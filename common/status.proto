syntax = "proto3";

package common;

option go_package = "github.com/cardid-zz/microservice-template-protobuf-schema/gen/go/common;common";
option java_multiple_files = true;
option java_package = "info.test.proto.common";

import "common/apps.proto";

// Status - статус операции
message Status {
    // code - код статуса
    int32 code = 1;
    // app_name - имя приложения, идентифицирует сервис
    App app_name = 2;
    // correlation_id - сквозной идентификатор запроса
    string correlation_id = 3;
    // error - возможная ошибка
    Error error = 4;
}

// Error представление ошибки бизнес-логики
message Error {
    // message - сообщение ошибки
    string message = 1;
    // details - дополнительные детали ошибки
    repeated Detail details = 2;
}

// Detail - опциональная детализация ошибки
message Detail {
    // code - код детализации
    int32 code = 1;
    // message - сообщение
    string message = 2;
}